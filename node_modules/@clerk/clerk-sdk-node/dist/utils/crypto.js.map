{"version":3,"file":"crypto.js","sourceRoot":"","sources":["../../src/utils/crypto.ts"],"names":[],"mappings":";;;AAAO,MAAM,YAAY,GAAG,CAAC,MAAc,EAAE,EAAE,CAC7C,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;AADtC,QAAA,YAAY,gBAC0B;AAEnD,6DAA6D;AAC7D,SAAgB,SAAS,CAAC,GAAW;IACnC,MAAM,SAAS,GAAG,4BAA4B,CAAC;IAC/C,MAAM,SAAS,GAAG,0BAA0B,CAAC;IAC7C,MAAM,WAAW,GAAG,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,EAAE,GAAG,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;IACnF,MAAM,eAAe,GAAG,IAAA,oBAAY,EAAC,WAAW,CAAC,CAAA;IACjD,OAAO,MAAM,CAAC,eAAe,CAAC,CAAC;AACjC,CAAC;AAND,8BAMC;AAED,uCAAuC;AACvC,SAAS,MAAM,CAAC,KAAa;IAC3B,MAAM,GAAG,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC1C,MAAM,OAAO,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC;IACpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,MAAM,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;QACtD,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;KAClC;IACD,OAAO,GAAG,CAAC;AACb,CAAC","sourcesContent":["export const decodeBase64 = (base64: string) =>\n  Buffer.from(base64, 'base64').toString('binary');\n\n// toSPKIDer converts a PEM encoded Public Key to DER encoded\nexport function toSPKIDer(pem: string): ArrayBuffer {\n  const pemHeader = \"-----BEGIN PUBLIC KEY-----\";\n  const pemFooter = \"-----END PUBLIC KEY-----\";\n  const pemContents = pem.substring(pemHeader.length, pem.length - pemFooter.length);\n  const binaryDerString = decodeBase64(pemContents)\n  return str2ab(binaryDerString);\n}\n\n// https://stackoverflow.com/a/11058858\nfunction str2ab(input: string): ArrayBuffer {\n  const buf = new ArrayBuffer(input.length);\n  const bufView = new Uint8Array(buf);\n  for (let i = 0, strLen = input.length; i < strLen; i++) {\n    bufView[i] = input.charCodeAt(i);\n  }\n  return buf;\n}\n"]}